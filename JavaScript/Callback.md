# 💡 콜백함수란 ?

<br/>

> 콜백함수란 무엇인가?

콜백함수란 함수가 개발자의 의도에 따라서 순차적으로 실행될 수 있게 하는것을 의미한다.

<br/>

> 콜백함수는 주로 언제쓰이는가?

콜백함수는 주로 WebAPI와 함께 쓰이는 경우가 많은데, 자바스크립트는 싱글 쓰레드이지만 브라우저의 WebAPi를 통해서 멀티 태스킹을 구현할 수 있다. 즉, 자바스크립트는 동기적으로 동작하지만 WepAPi를 통해서 비동기를 구현할 수 있다는 것인가?

<br/>

> 좀 더 구체적으로 설명하자면 ?

주로 비동기 함수에서 콜백을 통해 WepAPI에 넘겨준다. 그런 비동기함수는 어떤것이 있는지 아래에서 아래 예시를 들어보겠다. 일단은 비동기함수는 콜백을 통해서 WebAPI에 작업을 넘겨준다. 전달된 작업들은 순서에 상관없이 태스크 큐에 차곡차곡 쌓이게된다. 그렇게 쌓이게 된 콜백들은 콜 스택이 비어있을 때 `이벤트 루프`에 의해서 순서대로 실행이 된다.

<br/>

> WebAPi를 통해 콜백을 넘기는 비동기 함수는 어떠한 것들이 있는가?

- ajax를 통한 http요청

```jsx
function A (파라미터, 매개변수){
	ajax(
		"http/.......${파라미터}",
		function(ajax요청으로전달받는매개변수)
			매개변수(ajax요청으로전달받는매개변수) //콜백으로 넘기기
	}
}

function B (파라미터, 매개변수){
	ajax(
		"http/.......${파라미터}",
		function(ajax요청으로전달받는매개변수)
			매개변수(ajax요청으로전달받는매개변수) //콜백으로 넘기기
	}
}

function C (파라미터, 매개변수){
	ajax(
		"http/.......${파라미터}",
		function(ajax요청으로전달받는매개변수)
			매개변수(ajax요청으로전달받는매개변수)// 콜백으로 넘기기
	}
}

function foo(전달받은인수){
 A(전달받은인수, 콜백(매개변수){
const 데이터1 = 매개변수["데이터1"]
const 데이터2 = 매개변수["데이터2"]
	B(데이터2, 콜백(매개변수){
		const 데이터3 = 매개변수["데이터3"]
		const 데이터4 = 매개변수["데이터4"]
		C(데이터4, 콜백(매개변수){
			console.log("내가 원하던 데이터는 바로 ${매개변수}")
			})
		})
	})
}

foo("test")

```

콜백함수는 위와 같은 방식으로 동작한다. foo함수에 “test”라는 인수를 전달한다. 그러면 foo함수는 전달받은 인수를 통해 서버에 어떤 데이터를 받아오는 요청을 한다. 요청으로 보낸 값은 ajax비동기 요청에 따라 URL을 통해서 서버에서 데이터를 받아온다. 전달받은 데이터는 ajax의 두번째 인수 자리의 콜백 함수로 다시 콜백으로 돌아온다. 다시 돌아온 정보를 통해서 다른 정보를 얻고싶어서 또 요청을 보낸다고 쳐보자 위와 같은 순서대로 계속해서 콜백이 끊임없이 이어진다.

<br/>

- setTimeout을 통한 호출 스케줄링

```jsx
function 비동기포함함수(초) {
  console.log("첫 번째 로그");

  setTimeout(
    function () {
      //콜백함수
      console.log("두 번째 로그");
    },

    초 * 1000
  );
  console.log("세 번째 로그");
}

비동기포함함수(2);
```

setTimeout함수는 첫 번째로 콜백을 전달하고 두 번째 인자로는 호출 스케줄링을 전달한다. 이에 따라서 1초 뒤에 함수가 실행되게 해줘 라고 정할 수 있게 된 것이다.

<br/>

- addEventListner를 통한 이벤트 처리

```jsx
function ClickHandler() {
  console.log("MyNameIsCallback");
}

Node.addEventListner("click", ClickHandler);
```

addEventLister는 앞에 click이라는 이벤트가 발생하면 ClickHandler라는 함수를 실행시킨다. 클릭 핸들러는 콜백함수다

<br/>

> 헷갈리는 부분

비동기 함수에서의 매개변수를 통해서 데이터를 주고받는 과정이 아직 헷갈린다. 좀 더 연습이 필요할 것 같다.

# 🔗 Reference

- [https://www.youtube.com/watch?v=m0icCqHY39U](https://www.youtube.com/watch?v=m0icCqHY39U)
