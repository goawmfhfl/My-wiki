# 💡웹팩은 무엇일까 ?

> Ajax의 등장

Ajax의 등장에 따라서 페이지에 변경이 되는 부분이 생길 경우에 JavaScript의 요청으로 인하여 서버에서 바뀐 부분에 대한 수정 사항을 받아올 수 있게 되었다. Ajax가 등장함에 따라서 모든 문제가 해결이 된것만 같다. 시간이 지나면서 웹의 수요가 커지고 그에 따라서 작성하는 코드가 많아 지게 되었다. 그에 따라서 자바스크립트 파일을 늘리면 해결이 될 것 같지만 다른 문제가 발생한다

<br/>

> Ajax 등장과 발생한 문제

비즈니스가 커질수록 자바스크립트 파일이 많아진다. 여기서 문제는 매번 자바스크립트 파일을 만들 때 마다 데이터 흐름에 맞게 파일의 위치를 선정해 줘야 했다. 또한 모듈화가 되어 있지 않은 자바스크립트 파일들은 하나의 전역을 공유하기 때문에 다른 자바스크립트 파일에서 선언한 변수명이 충돌을 할 수 있는 문제가 생길 수 있다. 즉, 모듈화가 필요하다.

<br/>

> 잠깐 짚고 넘어가는 Node.js

이전에 자바스크립트는 오로지 브라우저에만 종속된 언어였다. 그렇기에 브라우저에서만 조작이 가능 했지 그 외에 다른 곳에서는 사용을 할 수 없었다. 하지만 시간이 지날수록 웹의 중요성이 커졌다. 온라인으로 비즈니스가 확장이 되기 시작하면서 웹의 기능은 발달하게 되었습니다. 그에따라서 더욱 많은 기능들을 요구하게 되었다. 이런 상황에서 자바스크립트를 범용적으로 사용하자는 말이 나오기 시작했고 대표적인 표준 위원회인 CommonJs, AMD로 인하여 Node.js가 생겨나게 되었다. Node.js로 인해서 자바스크립트로 작성된 코드가 웹브라우저 외에 다른곳에서도 작성이 가능하게 된 것입니다.

<br/>

> 🚀 모듈이 태어났다.

모듈이란 무엇일까? 보통 개발하는 어플리케이션의 규모가 커지면 파일을 여러개로 분리하는 시점이 필요한데 이때 분리된 파일들을 모듈이라고 합니다. 자바스크립트에서 모듈이 필요한 이유는 자바스크립트가 하나의 전역을 공유하는 문제를 가지고 있기 때문입니다. 그래서 모듈화를 하지 않을 경우에는 파일간에 변수명이 충돌하거나 혹은 다른 비즈니스 로직의 기능을 건드리는 문제가 발생하는데요? 이는 디버깅이 힘들뿐만 아니라 유지보수 또한 힘듭니다. 모듈을 사용하면 하나의 전역을 공유하지 않기 때문에 앞서 말했던 문제들을 해결할 수 있습니다.

<br/>

> 모듈은 언제부터 지원이 되었을까?

Node.js가 생기고 나서부터 모듈 기능을 지원하게 되었다. ES6부터는 Node.js 뿐만 아니라 JavaScript 에서도 모듈을 적용시킬 수 있게 되었다.

<br/>

> 🚀 크로스 브라우징 이슈의 발생

크로스 브라우징 이슈란 무엇인가? 브라우저마다 각기 다른 브라우저 렌더링 엔진을 가지고 있는데. 각 브라우저의 렌더링 엔진은 웹 표준 기구가 제공한 가이드라인에 따라서 웹을 제작합니다. 문제는 웹 표준 기구에서 제공하는 가이드라인 외에 내용들이 브라우저마다 해석하는 방식이 다르다는 것입니다. 예를들면 크롬에서 작성된 코드가 인터넷 익스플로어에서는 돌아가지 않는 이슈가 있습니다.

각 브라우저마다 사용하는 렌더링 엔진

- 크롬: 블링크의 소스코드를 가져와 독립적인 새로운 소프트웨어를 개발했는데 그것이 바로 웹킷이다.
- 사파리: 웹킷
- 파이어폭스 : 게코엔진 (Gecko)

> 🚀 크로스 브라우징의 예시

코드로 예를들어보자 크롬에서는 HTML 문서의 <main> 태그가 정상적으로 동작한다. 하지만 IE에서 Main 태그는 동작하지 않는다. 동작시키게 하기 위해서는 CSS 속성으로 display:block을 따로 추가해줘야하는 번거로움이 있다. 이를 하나하나 다 고려해서 코드를 작성하는 일은 매우 번거로운 일이다. 또한 자바스크립트가 업데이트 되어 새로운 문법이 나오게 될 경우에도 문제이다. 대표적인 예로 ES6에서 지원하는 기능이 ES5에서 지원하지 않는 것인데. ES6에서는 let, const, class, promise 객체를 지원한다 하지만 모든 브라우저에서 공통적으로 사용할 수 없는데 이유는 ie와 같은 구형 브라우저에서는 es6를 제대로 지원하지 않는다.

<br/>

> 🚀 크로스 브라우징 이슈 해결을 돕는 바벨과 폴리필

바벨과 폴리필을 라이브러리를 사용하면 크로스 브라우징 이슈를 어느정도 해결할 수 있다. 바벨은 모든 브라우저가 ES6의 기능을 제공하지 않기 때문에 ES5기능의 코드로 변환시켜주는 과정을 도와주고, 폴리필은 ES5에서 동작하지 않은 ES6이상에서 새롭게 추가된 문법들 예를들면 Promise, Map, Set과 같은 것들을 ES5에서도 사용할 수 있게 도와주는 것이다. 정리하자면 구 브라우저에서 최신 자바스크립트 코드를 사용하기 위해 Babel을 사용하고, 일부 기능들을 PolyFill을 통해 채움으로써 크로스 브라우징 이슈를 해결할 수 있다.

> 바벨과 폴리필의 차이점은 무엇인가?

바벨은 컴파일 타임에 실행이 되며 폴리필은 런타임 즉, 브라우저에서 실행되는 시점에서 실행이 된다. 바벨은 컴파일 타임에 코드를 구 브라우저에서 사용가능하게 변환하지만, ES6이상에서 새롭게 추가된 문법들은 컴파일 타임에 코드로 변환하는것이 어렵다 그렇기에 폴리필이 필요하다.

<br/>

> 🚀 웹팩이란?

웹펙은 한마디로 모듈 번들러다. 즉 모듈을 합쳐준다는 말이다. 하나의 시작점으로부터 의존적인 모듈들을 모두 찾아내서 하나의 결과물을 만들어 낸다.

<br/>

> 🚀 왜 웹팩을 왜 사용하는가??

예전에는 script 태그로 여러개의 자바스크립트 파일들을 불러와서 자바스크립트를 실행했다. 이렇게 되면 가장 먼저 생각할 수 있는 문제점은 전역 변수다. 이를 막기위해서 즉시실행함수를 사용하기도 했었다. 이런 문제점을 해결하기 위해서 다양한 모듈이 등장하기 시작한다. 그리고 브라우저에서도 모듈을 지원하기 시작했다. 하지만 모듈을 지원하지 않는 브라우저가 존재한다. 지원하더라도 브라우저마다 서로 다르게 동작한다. 그래서 이러한 문제를 해결하기 위해 웹펙이 등장하기 시작한다.

<br/>

> 🚀 웹팩의 구성 요소는 어떻게 되어 있는가???

웹팩은 Entry, Output, Loaders, Plugins, Mode로 구성되어있다.

💡 entry는 하나의 시작점으로 entry point로 부터 의존적인 모듈을 전부 찾아내서 하나의 결과물을 만들어 낸다.
💡 output은 웹팩의 번들링에 대한 결과물을 어디에 만들어낼 건지, 어떤 이름을 만들건지에 대하여 정한다.
💡 loader는 html,css,png 등등의 다른 타입의 파일들이 웹팩이 이해할 수 있게 해주는 것이 로더의 역할이다.
💡 plugin은 번들링 된 결과물에 대해서 적용할 수 있는 속성이다. 예를들면 번들링 된 파일에 대한 난독화(UglifyJsPlugin)를 사용하거나 css,js파일들을 html에 주입하는 역할((html-webpack-plugin)을 한다

<br/>

> 이 외의 웹팩 활용의 장점

1. 여러 파일의 자바스크립트 코드를 압축하여 최적화 할 수 있기 때문에 로딩에 대한 네트워크 비용을 줄일 수 있습다
2. 모듈 단위로 개발이 가능하여, 가독성과 유지보수가 쉽다
3. 최신 자바스크립트 문법을 지원하지 않는 브라우저에서 사용할 수 있는 코드로 쉽게 변환시켜 준다

물론, 수 많은 자바스크립트 파일이 하나의 파일로 묶인다면 초기 로딩 속도가 커질 수 있습니다. 하지만 웹팩에서는 청크, 캐시, 코드 스플릿 개념들을 도입하면서 이 문제를 해결하고 있다.

<br/>

# 🔗 Reference

- [https://ko.javascript.info/modules-intro](https://ko.javascript.info/modules-intro)
- [https://velog.io/@kwonh/Babel-%ED%8F%B4%EB%A6%AC%ED%95%84polyfill-babelpreset-env](https://velog.io/@kwonh/Babel-%ED%8F%B4%EB%A6%AC%ED%95%84polyfill-babelpreset-env)
- [https://ms3864.tistory.com/m/368](https://ms3864.tistory.com/m/368)
- [https://ljs0705.medium.com/spa-single-page-app-에서-webpack을-사용하는-이유-ce7d3f82fe9](https://ljs0705.medium.com/spa-single-page-app-%EC%97%90%EC%84%9C-webpack%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0-ce7d3f82fe9)
- [https://medium.com/@woody_dev/js-webpack-1-웹팩이란-무엇인가-f29ebca31da4](https://medium.com/@woody_dev/js-webpack-1-%EC%9B%B9%ED%8C%A9%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80-f29ebca31da4)
- [https://ui.toast.com/fe-guide/ko_BUNDLER](https://ui.toast.com/fe-guide/ko_BUNDLER)
